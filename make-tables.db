/*--------------CRIAÇÃO DE TABELAS--------------*/

CREATE TABLE TIPO_PRODUTO(
	ID 	INT PRIMARY KEY NOT NULL,
	DESCRICAO VARCHAR(50));
CREATE TABLE TIPO_PAGTO(
	ID INT PRIMARY KEY NOT NULL, 
	DESCRICAO VARCHAR(50));
CREATE TABLE PRODUTOS(
	ID INT PRIMARY KEY NOT NULL,
	ID_TIPO_PRODUTO INT,
	DESCRICAO VARCHAR (50),
	VALOR DECIMAL(10,2),
	FOREIGN KEY (ID_TIPO_PRODUTO)REFERENCES TIPO_PRODUTO(ID));
CREATE TABLE PEDIDOS(
	ID INTEGER PRIMARY KEY NOT NULL,
	ID_TIPO_PAGTO INT,
	DIA DATE,
	VALOR_TOTAL DECIMAL(10,2),
	FOREIGN KEY (ID_TIPO_PAGTO)REFERENCES TIPO_PAGTO(ID));
CREATE TABLE PEDIDOS_PRODUTOS(
	ID INT PRIMARY KEY NOT NULL,
	ID_PEDIDO INT,
	ID_PRODUTO INT,
	QTDE INT,
	VALOR_UNIT DECIMAL(10,2),
	VALOR_TOTAL DECIMAL(10,2),
	FOREIGN KEY (ID_PEDIDO)REFERENCES PEDIDOS(ID),
	FOREIGN KEY (ID_PRODUTO)REFERENCES PRODUTOS(ID));

/*--------------INSERÇÃO DE DADOS---------------*/

/*--TABELA TIPO_PRODUTO--*/

INSERT INTO TIPO_PRODUTO(ID, DESCRICAO)
VALUES ( 1, 'CONSUMO');
INSERT INTO TIPO_PRODUTO(ID, DESCRICAO)
VALUES ( 2,  'VENDA');

/*--TABELA TIPO_PAGTO--*/

INSERT INTO TIPO_PAGTO(ID, DESCRICAO)
VALUES (1,'A VISTA');
INSERT INTO TIPO_PAGTO(ID, DESCRICAO)
VALUES (2,'A PRAZO');

/*--TABELA PRODUTOS--*/

INSERT INTO PRODUTOS(ID, DESCRICAO, VALOR, ID_TIPO_PRODUTO)
VALUES (1, 'SABÃO EM PÓ 2 KG', 17.00, 1);
INSERT INTO PRODUTOS(ID, DESCRICAO, VALOR, ID_TIPO_PRODUTO)
VALUES (2, 'COXINHA', 5.00, 2);
INSERT INTO PRODUTOS(ID, DESCRICAO, VALOR, ID_TIPO_PRODUTO)
VALUES (3, 'EMPADINHA', 7.00, 2);
INSERT INTO PRODUTOS(ID, DESCRICAO, VALOR, ID_TIPO_PRODUTO)
VALUES (4, 'BOLO PEDAÇO',7.50, 2);
INSERT INTO PRODUTOS(ID, DESCRICAO, VALOR, ID_TIPO_PRODUTO)
VALUES (5, 'DETERGENTE 5 LITROS', 8.00, 1);
INSERT INTO PRODUTOS(ID, DESCRICAO, VALOR, ID_TIPO_PRODUTO)
VALUES (6, 'PASTEL', 6.00, 2);
INSERT INTO PRODUTOS(ID, DESCRICAO, VALOR, ID_TIPO_PRODUTO)
VALUES (7, 'PIZZA PEDAÇO', 7.00, 2);
INSERT INTO PRODUTOS(ID, DESCRICAO, VALOR, ID_TIPO_PRODUTO)
VALUES (8,'SUCO', 7.00, 2);




/*--TABELA PEDIDOS--*/

INSERT INTO PEDIDOS (ID, DIA, ID_TIPO_PAGTO, VALOR_TOTAL)
VALUES (1, '27-07-2020', 1, 16.00);
INSERT INTO PEDIDOS (ID, DIA, ID_TIPO_PAGTO, VALOR_TOTAL)
VALUES (2, '05-08-2020', 2, 27.00);
INSERT INTO PEDIDOS (ID, DIA, ID_TIPO_PAGTO, VALOR_TOTAL)
VALUES (3, '06-08-2020', 1, 13.50);

/*--TABELA PEDIDOS_PRODUTOS--*/

INSERT INTO PEDIDOS_PRODUTOS (ID, ID_PEDIDO, ID_PRODUTO, QTDE, VALOR_UNIT, VALOR_TOTAL)
VALUES (1, 1, 2,2, 5.00, 10.00);
INSERT INTO PEDIDOS_PRODUTOS (ID, ID_PEDIDO, ID_PRODUTO, QTDE, VALOR_UNIT, VALOR_TOTAL)
VALUES (2, 1, 6, 1, 6.00, 6.00);
INSERT INTO PEDIDOS_PRODUTOS (ID, ID_PEDIDO, ID_PRODUTO, QTDE, VALOR_UNIT, VALOR_TOTAL)
VALUES (3, 2, 3, 3, 7.00, 21.00);
INSERT INTO PEDIDOS_PRODUTOS (ID, ID_PEDIDO, ID_PRODUTO, QTDE, VALOR_UNIT, VALOR_TOTAL)
VALUES (4, 2, 6, 1, 6.00, 6.00);
INSERT INTO PEDIDOS_PRODUTOS (ID, ID_PEDIDO, ID_PRODUTO, QTDE, VALOR_UNIT, VALOR_TOTAL)
VALUES (5, 3, 4, 1, 7.50, 7.50);
INSERT INTO PEDIDOS_PRODUTOS (ID, ID_PEDIDO, ID_PRODUTO, QTDE, VALOR_UNIT, VALOR_TOTAL)
VALUES (6, 3, 6, 1, 6.00, 6.00);

/*-----------------EXCLUSÃO DE TABELAS-------------------*/

DELETE FROM PEDIDOS;
DELETE FROM PEDIDOS_PRUDTOS;
DELETE FROM PRODUTOS;
DELETE FROM TIPO_PAGTO;
DELETE FROM TIPO_PRODUTO;
DROP TABLE TIPO_PRODUTO CASCADE;
DROP TABLE PRODUTOS CASCADE;
DROP TABLE PEDIDOS CASCADE;
DROP TABLE PEDIDOS_PRODUTOS CASCADE;
DROP TABLE TIPO_PAGTO CASCADE;

/*----------------------SELEÇÃO DE TABELAS----------------------*/

SELECT * FROM TIPO_PRODUTO;
SELECT * FROM TIPO_PAGTO;
SELECT * FROM PRODUTOS;
SELECT * FROM PEDIDOS_PRODUTOS;
